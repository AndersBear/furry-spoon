<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="MyStyle.css" />
</head>
  
<body>
    
    <header>
    <div class="nav">
      <ol>
        <li class="spytech"><a href="https://serene-jackson.netlify.app/SpyTech.html">SpyTech</a></li>
        <li class="spiritual"><a href="https://serene-jackson.netlify.app/spiritchewul.html">Spiritchewul</a></li>
        <li class="social"><a href="https://serene-jackson.netlify.app/social.html">Social</a></li>
        <li class="sing"><a href="https://serene-jackson.netlify.app/sing.html">Sing</a></li>
        <li class="science"><a href="#">Science</a></li>
        <li class="sarcazzy"><a href="https://serene-jackson.netlify.app/sarcazzy.html">Sarcazzy</a></li>
      </ol>
    </div>
  </header>
  
  <br><br>
  
  
  <div class="fixedhomebutton">
  <figure>
  <a href="https://serene-jackson.netlify.app"><img src="home.jpg" width=45 height=45></img></a>
  <figcaption>Home</figcaption>
  </figure>
  </div>
  
  
  
  <!-- Side navigation -->
<div class="sidenav">
  <a href="#">Acoustics</a>
  <a href="#">Botany</a>
  <a href="#">Chemistry</a>
  <a href="#">Computer Sci</a>
  <a href="#">Physics</a>
</div>


  
  
  
<div class="main">
  
  <br><br><br><br><br>
  
  
  <div class="boxed">
    
  <figure>
  <a href="https://thispersondoesnotexist.com"><img src="thispersondoesnotexistexample.jpeg" width=200 height=200></img></a>
  <figcaption>thispersondoesnotexist.com</figcaption>
  </figure>
  
  </div>
 
  
  
  
  
  <div class="boxed">
  
  <div><img id="xy" onclick="showCoords(event)" src="xy.png" width=200 height=200></img></div>click on this 200x200 pixel image
  <br>
  <p2 id="coords"></p2>
  <p2 id="coords2"></p2>
  <br>
  
  
  The Y coord should now work even after scrolling.<br>
  The winning code is shown below (I looked for simple examples.)<br>
  Thank you <a href="https://developer.mozilla.org"></a>.
  <br><br>
  <pre>
  function <font color=green><b>getYPosition()</b></font> <br>
    {
     var top = window.pageYOffset || document.documentElement.scrollTop;<br>
     return top;
    }
  
  var y = ((event.clientY - xy.offsetTop) + <font color=green><b>getYPosition</b></font>());
  </pre>
  
  <br>
  
  Also thank you <a href="https://stackoverflow.com"></a>.
  <br>
  
  
  </div>

<br><br>

 
  

<div class="boxed">
  This text is enclosed in a box.
  Light lettering on a dark background
  might look neat at first,
  but what does it do to your vision?
</div>
  
  
  
</div>




<script type="text/javascript">
  
  /*

$(function(){

$image = $('#xy');
imgPos = [
    $image.offset().left,
    $image.offset().top,
    $image.offset().left + $image.outerWidth(),
    $image.offset().top + $image.outerHeight()
];

$image.mousemove(function(e){
  $('#coords').html((e.pageX-imgPos[0]) +', '+ (e.pageY-imgPos[1]));
  
  $('#coords').text('X: ' + X + ', Y: ' + Y);
  
  document.getElementById("#x_coord").innerHTML = X;
  document.getElementById("#y_coord").innerHTML = Y;
  
});
  
});
  
  
   $(document).ready(function() {
        $('#xy').click(function(e) {
            var offset = $(this).offset();
            var X = (e.pageX - offset.left);
            var Y = (e.pageY - offset.top);
            $('#coords').text('X: ' + X + ', Y: ' + Y);
        });
    });
  
  $(document).ready(function() {
        $('#xy').on("mousemove", function(e) {
            var offset = $(this).offset();
            var X = (e.pageX - offset.left);
            var Y = (e.pageY - offset.top);
            $('#coords').text('X: ' + X + ', Y: ' + Y);
        });
    });
  
  
  */
  
  
  
  
  function showCoords(event) {
    
    //var testDiv = document.getElementById("test");
    //var demoDiv = document.getElementById("demo");
    
  //document.getElementById("coords").innerHTML = "offsetLeft: " + xy.offsetLeft + "offsetTop: " + xy.offsetTop;
    
    //when page is scrolled, .offsetTop will be different
    
    
    /*
    
    var bodyRect = document.body.getBoundingClientRect();
    var elemRect = element.getBoundingClientRect();
    //var x = (event.clientX - xy.offsetLeft);
    var V_offset = (elemRect.top - bodyRect.top);
    var y = (event.clientY + V_offset);
    //alert('Element is ' + V_offset + ' vertical pixels from <body>');
    var H_offset = elemRect.left - bodyRect.left;
    var x = (event.clientX + H_offset);
    //var y = (event.clientY - xy.offsetTop);
    
    //alert('Element is ' + H_offset + ' horizontal pixels from <body>');
    
    var coordins = "X coord: " + x + ", Y coord: " + y;
    document.getElementById("coords2").innerHTML = coordins;  
    
    */
    
    
          
    /* WORKS, but not after scrolling (shows negative values)
  var x = (event.clientX - xy.offsetLeft);
  //var x = event.pageX - this.offsetLeft
  var y = (event.clientY - xy.offsetTop);
  var coordins = "X coord: " + x + ", Y coord: " + y;
  document.getElementById("coords2").innerHTML = coordins;  
    */
    
    
    //try this code copied from StackOverflow:
    
    //(relative to another element)
    //var bodyRect = document.body.getBoundingClientRect(),
    //var elemRect = element.getBoundingClientRect(),
    //var V_offset = elemRect.top - bodyRect.top;

//alert('Element is ' + V_offset + ' vertical pixels from <body>'
    
    /*
    
    //(absolute)
    var rect = element.getBoundingClientRect();
    console.log(rect.top, rect.right, rect.bottom, rect.left);
    
    
    var x = (event.clientX - xy.offsetLeft);
    var y = ((event.clientY - xy.offsetTop) + rect.top);
    var coordins = "X coord: " + x + ", Y coord: " + y;
    document.getElementById("coords2").innerHTML = coordins;  
    
    */
    
    
    
    //code from developer.mozilla.org 
    
    function getYPosition() 
    {
     var top = window.pageYOffset || document.documentElement.scrollTop;
     return top;
    }
   
    
    //var yy = window.scrollY + document.querySelector('xy').getBoundingClientRect().top   // Y
    
    //WORKS for scrolling, December 27, 2021:
    var x = (event.clientX - xy.offsetLeft);
    //var y = ((event.clientY - xy.offsetTop) + getOffset(xy).top);
    var y = ((event.clientY - xy.offsetTop) + getYPosition());
    var coordins = "X coord: " + x + ", Y coord: " + y;
    document.getElementById("coords2").innerHTML = coordins;  
    
    
     
    
    //also from StackOverflow
    
    /*
    function getOffset(el) 
    {
     const rect = el.getBoundingClientRect(); 
     //getBoundingClientRec() gets position of element relative to viewing window
     return {left: rect.left + window.scrollX, top: rect.top + window.scrollY};
    } //end of function getOffset()
    
    
    //getOffset(element).top;
    //getOffset(xy).top:
    */
    
    
    
    
    
    
    //yet another from StackOverflow
    
    //window.scrollY + document.querySelector('#elementId').getBoundingClientRect().top   // Y
    //window.scrollX + document.querySelector('#elementId').getBoundingClientRect().left  // X
    
    
    
    
  } //end of function ShowCoords()
  
  
  
  
  
  
    
  
</script>

 
    
    
</body>
</html>
